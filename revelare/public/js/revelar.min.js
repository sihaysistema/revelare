!function(){"use strict";function e(e,n,o,t){void 0===t&&(t="");var c=frappe.get_doc(n,o);frappe.call({method:"revelare.data.get_type_account",args:{account_name:c.account},callback:function(n){if(console.log(n.message),1==n.message){if(c.credit_in_account_currency>0&&(0==c.debit_in_account_currency||null==c.debit_in_account_currency))frappe.meta.get_docfield("Journal Entry Account","outflow_component",e.doc.name).hidden=0,frappe.meta.get_docfield("Journal Entry Account","inflow_component",e.doc.name).hidden=1,c.debit_in_account_currency=0;else if(c.debit_in_account_currency>0&&(0==c.credit_in_account_currency||null==c.credit_in_account_currency)){frappe.meta.get_docfield("Journal Entry Account","inflow_component",e.doc.name).hidden=0,frappe.meta.get_docfield("Journal Entry Account","outflow_component",e.doc.name).hidden=1,c.credit_in_account_currency=0}else if(c.debit_in_account_currency>0&&c.credit_in_account_currency>0){if("credit"==t)frappe.meta.get_docfield("Journal Entry Account","inflow_component",e.doc.name).hidden=1,frappe.meta.get_docfield("Journal Entry Account","outflow_component",e.doc.name).hidden=0,c.debit_in_account_currency=0;else if("debit"==t){frappe.meta.get_docfield("Journal Entry Account","inflow_component",e.doc.name).hidden=0,frappe.meta.get_docfield("Journal Entry Account","outflow_component",e.doc.name).hidden=1,c.credit_in_account_currency=0}}else if(null==c.credit_in_account_currency&&null==c.debit_in_account_currency){frappe.meta.get_docfield("Journal Entry Account","inflow_component",e.doc.name).hidden=0,frappe.meta.get_docfield("Journal Entry Account","outflow_component",e.doc.name).hidden=1}else{frappe.meta.get_docfield("Journal Entry Account","inflow_component",e.doc.name).hidden=1,frappe.meta.get_docfield("Journal Entry Account","outflow_component",e.doc.name).hidden=1}e.refresh()}else{frappe.meta.get_docfield("Journal Entry Account","inflow_component",e.doc.name).hidden=1,frappe.meta.get_docfield("Journal Entry Account","outflow_component",e.doc.name).hidden=1,c.inflow_component="",c.outflow_component="",e.refresh_fields()}}})}frappe.ui.form.on("UOM Conversion Detail",{revelare_default_uom_sales_analytics_2:function(e,n,o){var t=0;e.doc.uoms.forEach(function(n,c){n.name==o&&(n.revelare_default_uom_sales_analytics_2?e.enable_save():console.log("unckecked"),e.doc.uoms.forEach(function(n,o){n.revelare_default_uom_sales_analytics_2&&++t>1&&(frappe.msgprint("Solamente debe haber un elemento seleccionado"),e.doc.uoms[c].revelare_default_uom_sales_analytics_2=0,refresh_field("uoms"))}))})}}),frappe.ui.form.on("Journal Entry",{setup:function(e){cur_frm.set_query("inflow_component","accounts",function(){return{filters:{is_group:0,cash_effect:"Inflow"}}}),cur_frm.set_query("outflow_component","accounts",function(){return{filters:{is_group:0,cash_effect:"Outflow"}}})}}),frappe.ui.form.on("Journal Entry Account",{account:function(n,o,t){e(n,o,t)},party_type:function(e,n,o){var t=frappe.get_doc(n,o);"Customer"==t.party_type&&cur_frm.set_value(t.inflow_component,"Receipts from Customers"),e.refresh()},debit_in_account_currency:function(n,o,t){e(n,o,t,field="debit")},credit_in_account_currency:function(n,o,t){e(n,o,t,field="credit")},form_render:function(n,o,t){e(n,o,t)}}),frappe.ui.form.on("Payment Entry",{setup:function(e){cur_frm.set_query("inflow_component",function(){return{filters:{is_group:0,cash_effect:"Inflow"}}}),cur_frm.set_query("outflow_component",function(){return{filters:{is_group:0,cash_effect:"Outflow"}}})},refresh:function(e){if("Pay"==cur_frm.doc.payment_type)frappe.meta.get_docfield("Payment Entry","outflow_component",e.doc.name).hidden=0,frappe.meta.get_docfield("Payment Entry","inflow_component",e.doc.name).hidden=1;else if("Receive"==cur_frm.doc.payment_type){frappe.meta.get_docfield("Payment Entry","outflow_component",e.doc.name).hidden=1,frappe.meta.get_docfield("Payment Entry","inflow_component",e.doc.name).hidden=0}else{frappe.meta.get_docfield("Payment Entry","outflow_component",e.doc.name).hidden=1,frappe.meta.get_docfield("Payment Entry","inflow_component",e.doc.name).hidden=1}},payment_type:function(e){if(console.log(e.doc.payment_type),"Pay"==cur_frm.doc.payment_type)frappe.meta.get_docfield("Payment Entry","outflow_component",e.doc.name).hidden=0,frappe.meta.get_docfield("Payment Entry","inflow_component",e.doc.name).hidden=1;else if("Receive"==cur_frm.doc.payment_type){frappe.meta.get_docfield("Payment Entry","outflow_component",e.doc.name).hidden=1,frappe.meta.get_docfield("Payment Entry","inflow_component",e.doc.name).hidden=0,console.log("Es Una entrada")}else{frappe.meta.get_docfield("Payment Entry","outflow_component",e.doc.name).hidden=1,frappe.meta.get_docfield("Payment Entry","inflow_component",e.doc.name).hidden=1}}})}();
//# sourceMappingURL=revelar.min.js.map
